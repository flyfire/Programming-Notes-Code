# 1 全局变量与局部变量

C语言中的变量，按作用域范围可分为两种，即局部变量和全局变量：

- **局部变量也称为内部变量**。局部变量是在函数内作定义说明的。其**作用域仅限于函数或局部代码块内**，
- **全局变量也称为外部变量**，它是在函数外部定义的变量。它不属于哪一个函数，它属于一个源程序文件。其**作用域是整个源程序**。
- 当存在相同标识符的全局变量和局部变量时，此时标识符表示的是布局变量。

示例：

```
    #include <stdio.h>
    #include <stdlib.h>

    int x = 20;//声明全局变量
    int main(void) {
        printf("全局变量x=%d\n",x);
        {
            int x = 30;
            printf("局部变量x=%d\n",x);
        }
        return 1;
    }
    //结果:
    全局变量x=20
    局部变量x=30
```

<br><br>
# 2  变量类别

## 2.1  根据生命周期划分类别

C语言根据变量的生存周期来划分，可以分为**静态存储方式**和**动态存储方式**。

### 静态存储方式

是指在程序运行期间分配固定的存储空间的方式。**静态存储区中存放了在整个程序执行过程中都存在的变量**，如全局变量。

**静态变量可以声明在函数内或者函数外**

### 动态存储方式

动态存储方式：是指在程序运行期间根据需要进行动态的分配存储空间的方式。**动态存储区中存放的变量是根据程序运行的需要而建立和释放的**，通常包括：`函数形式参数；自动变量；函数调用时的现场保护和返回地址`等。

<br>
### 2.2 根据存储类别划分

C语言中存储类别又分为四类：`自动（auto）、静态（static）、寄存器的（register）和外部的（extern）。`


#### 自动变量

一般我们声明的变量就是自动变量，所以auto是可以省略的


#### 静态变量

用static修饰的为静态变量，如果定义在函数内部的，称之为静态局部变量；如果定义在函数外部，称之为静态外部变量。静态外部变量只能被本源文件中的函数引用。

注意：静态局部变量**属于静态存储类别**，在静态存储区内分配存储单元，在程序整个运行期间都不释放；静态局部变量在编译时赋初值，即**只赋初值一次**；如果在定义局部变量时不赋初值的话，则对静态局部变量来说，编译时**自动赋初值0（对数值型变量）或空字符（对字符变量）**。
```
    void methodStaticVariable(){
        static int a = 0;
        a ++;
        printf("静态变量a的值是%d:",a);
        newLine();
    }
   //如果方法执行10此，那么a的值是10；
```

#### 寄存器变量

为了提高效率，C语言允许将局部变量得值放在CPU中的寄存器中，这种变量叫“寄存器变量”，用关键字register作声明。例如：

    void registerVariableDemo(){
        register int a = 3;
        while(a < 30){
            a ++;
            printf("寄存器变量a的值是%d",a);
            newLine();
        }
    }

#### 外部变量(全局变量)

用extern声明的的变量是外部变量，外部变量的意义是某函数可以调用在该函数之后定义的变量。

    void externVariableDemo(){
        extern int externX;
        printf("外部变量externX的值是%d",externX);
    }
    int externX = 100;

外部变量也叫全局变量，外部变量可以被本文件中的函数所引用。其作用范围是从定义开始到本源文件结束。

非静态外部变量可以被其他源文件中的函数引用：

```
文件A中：
int A = 86;
文件B中：
extern A;//把文件A中的外部变量的作用域扩展到本文件。
```









