# kotlin协程原理

分析方法：
- 分析反编译后的Java代码
- 打断点debug


 协程被编译成状态机，(单个函数被编译成多个函数)，


![](images/suspend.png)

- 协程有编译器实现，我们编写的代码与实际运行的代码有很多的差别
- suspend函数即状态转移，单个suspend函数被编译成多个函数，即拔每一个挂牵点编译成一个单独的函数
- 多个Context可以组合，类型是CombinedContext
- suspend代码块会被编译成继承CoroutineImpl类的类型